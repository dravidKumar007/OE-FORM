<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SIGN_IN</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins&display=swap">
</head>

<body>
    <form name="submit-to-google-sheet" id="myForm">
       <h1>SIGN IN</h1>
        <label for="name">Name:</label>
        <input type="text" name="name" id="name" placeholder="Enter your name" required><br>
        <label for="Register">Register no:</label>
        <input type="number" name="Register" id="Register" placeholder="Enter Your Register number" min="100000000000" required><br>
        <label for="Dept">Department:</label>
        <select name="Dept" id="Dept" required>
            <option disabled selected>Select Department</option>
            <option value="CSE">CSE</option>
            <option value="IT">IT</option>
            <option value="MECH">MECH</option>
            <option value="BME">BME</option>
            <option value="EEE">EEE</option>
            <option value="ECE">ECE</option>
            <option value="AI&DS">AI&DS</option>
            <option value="Civil">Civil</option>
            <option value="RA">RA</option>
            <option value="Auto">Auto</option>
            <option value="EIE">EIE</option>
        </select><br>
        <label for="year"  >Year:</label>
        <select name="year" required id="year">
            <option  disabled selected>Select Year</option>
            <option value="3">Third year</option>
            <option value="4">Fourth year</option>
        </select><br>
        <label for="Email">Email:</label>
        <input
        style=
 "       width: 100%;
        padding: 8px;
        margin-bottom: 15px;
        border-radius: 3px;
        border: 1px solid #ccc;
        box-sizing: border-box;
 "       
        type="email" name="Email" id="Email" placeholder="Enter your email" required><br>
        <label for="Password" >Password:</label>
        <input required minlength="12"
        style=
        "       width: 100%;
               padding: 8px;
               margin-bottom: 15px;
               border-radius: 3px;
               border: 1px solid #ccc;
               box-sizing: border-box;
        " 
        
        type="password" name="Password" id="Password" placeholder="Enter Password"><br>
        <label for="Confirm">Confirm Password:</label>
        <input
        
        style=
        "       width: 100%;
               padding: 8px;
               margin-bottom: 15px;
               border-radius: 3px;
               border: 1px solid #ccc;
               box-sizing: border-box;
        " 
        
        
        type="password" name="Confirm" placeholder="Confirm Password" id="Confirm">  <br> 
        <br>
        <button type="Submit" id="submitButton" >Submit</button>  
    </form>
    <script>
        $(document).ready(function() {
            $("#myForm").submit(function(event) {
                // Prevent default form submission
                event.preventDefault();
    
                // Disable the submit button to prevent multiple submissions
                $("#submitButton").prop('disabled', true);
                $("#submitButton").text("wait...");
    
                // Check if password and confirm password match
                var password = $("#Password").val();
                var confirm = $("#Confirm").val();
    
                if (password === confirm) {
                    // Serialize the form data
                    var formData = $("#myForm").serialize();
    
                    // Submit the form data asynchronously
                    $.ajax({
                        type: "POST",
                        url: "sign_in.php", // Submit to the same page
                        data: formData,
                        success: function(response) {
                            // Handle the response
                            alert("Successful sign in!");
                            window.location.href="https://gmail.com/";
                        },
                        error: function(xhr, status, error) {
                            alert("Error: " + xhr.responseText);
                            // Re-enable the submit button if an error occurs
                            $("#submitButton").prop('disabled', false);
                            $("#submitButton").text("Submit");
                        }
                    });
                } else {
                    alert("Password and Confirm Password do not match.");
                    // Re-enable the submit button in case of password mismatch
                    $("#submitButton").prop('disabled', false);
                    $("#submitButton").text("Submit");
                }
            });
        });
    </script>
    

    
               </body>
               </html>
               
